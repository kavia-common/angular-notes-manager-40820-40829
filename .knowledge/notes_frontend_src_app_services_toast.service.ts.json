{"is_source_file": true, "format": "TypeScript (Angular)", "description": "This file defines an Angular service called ToastService used for managing toast notification messages globally within an application. It includes definitions for the toast message structure, methods for adding, dismissing, clearing toasts, and handling auto-dismiss timers.", "external_files": ["@angular/core", "rxjs"], "external_methods": ["signal", "timer"], "published": ["ToastService", "ToastMessage"], "classes": [{"name": "ToastService", "description": "Angular service for managing toast notifications, supporting add, dismiss, error, and clear operations with auto-dismiss functionality."}], "methods": [{"name": "add", "description": "Adds a new toast message to the list, optionally setting an auto-dismiss timeout."}, {"name": "error", "description": "Convenience method to show an error toast, default timeout 6000ms."}, {"name": "dismiss", "description": "Dismisses/removes a toast message by its unique ID."}, {"name": "clear", "description": "Clears all active toasts and cancels auto-dismiss timers."}], "calls": ["signal", "timer", "Subscription.subscribe", "Subscription.unsubscribe", "Array.filter", "Map.get", "Map.set", "Map.delete", "Signal.update", "Signal.set"], "search-terms": ["Angular ToastService", "toast notifications", "auto dismiss timer", "signal state management", "ToastMessage interface", "subscribe unsubscribe timers"], "state": 2, "file_id": 25, "knowledge_revision": 61, "git_revision": "4210b5a76b429cecfb52e7470f9e058283dcae4d", "revision_history": [{"57": ""}, {"61": "4210b5a76b429cecfb52e7470f9e058283dcae4d"}], "ctags": [{"_type": "tag", "name": "ToastMessage", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^export interface ToastMessage {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "ToastService", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^export class ToastService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^    const id = this.idCounter++;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^  id: number;$/", "language": "TypeScript", "kind": "property", "scope": "ToastMessage", "scopeKind": "interface"}, {"_type": "tag", "name": "sub", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^      const sub = timer(timeoutMs).subscribe(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sub", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^    const sub = this.autoCloseSubs.get(id);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sub", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^    for (const sub of this.autoCloseSubs.values()) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^    const toast: ToastMessage = { id, type, text, timeoutMs };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^  text: string;$/", "language": "TypeScript", "kind": "property", "scope": "ToastMessage", "scopeKind": "interface"}, {"_type": "tag", "name": "timeoutMs", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^    const toast: ToastMessage = { id, type, text, timeoutMs };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "timeoutMs", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^  timeoutMs?: number;$/", "language": "TypeScript", "kind": "property", "scope": "ToastMessage", "scopeKind": "interface"}, {"_type": "tag", "name": "toast", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^    const toast: ToastMessage = { id, type, text, timeoutMs };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "toasts", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^  readonly toasts = signal<ToastMessage[]>([]);$/", "language": "TypeScript", "kind": "property", "scope": "ToastService", "scopeKind": "class"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^    const toast: ToastMessage = { id, type, text, timeoutMs };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/angular-notes-manager-40820-40829/notes_frontend/src/app/services/toast.service.ts", "pattern": "/^  type: 'info' | 'success' | 'warning' | 'error';$/", "language": "TypeScript", "kind": "property", "scope": "ToastMessage", "scopeKind": "interface"}], "hash": "134056c74314a11a285efb6ec9eeab5b", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/app/services/toast.service.ts", "fields": [{"name": "export interface ToastMessage {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "id: number;", "scope": "ToastMessage", "scopeKind": "interface", "description": "unavailable"}, {"name": "text: string;", "scope": "ToastMessage", "scopeKind": "interface", "description": "unavailable"}, {"name": "timeoutMs?: number;", "scope": "ToastMessage", "scopeKind": "interface", "description": "unavailable"}, {"name": "readonly toasts = signal<ToastMessage[]>([]);", "scope": "ToastService", "scopeKind": "class", "description": "unavailable"}, {"name": "type: 'info' | 'success' | 'warning' | 'error';", "scope": "ToastMessage", "scopeKind": "interface", "description": "unavailable"}]}